<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Test componente</title>
<script type="text/javascript"
	src="https://code.jquery.com/jquery-2.2.0.js"></script>
	
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/qtip2/2.2.1/basic/jquery.qtip.js"></script>
<script type="text/javascript" src="../js/libs/cytoscape.js"></script>
<script type="text/javascript" src="../js/libs/dagre.js"></script>
<script type="text/javascript" src="../js/libs/cytoscape-dagre.js"></script>

<script type="text/javascript" src="../js/libs/cytoscape-qtip.js"></script>
<script type="text/javascript" src="../js/ii.sparqlLib.js"></script>
<script type="text/javascript" src="../js/ii.sparqlLib.graph.js"></script>
<script type="text/javascript" src="../js/ii.cytoscape.js"></script>


<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/qtip2/2.2.1/basic/jquery.qtip.css" >

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">
<style>
.ii-graph-legend-container {
	background-color: #F8F9FA !important;
}
.legend-circle-node{
	width: 30px;
	height: 30px;
	-moz-border-radius: 50px;
	-webkit-border-radius: 50px;
	border-radius: 50px;
}

.legend-arrow-line {
	width: 30px;
	height: 8px;
}

.ii-graph-legend-container{
     background:white;
     float:left;
     z-index:999;
     position:relative;
     border:1px solid #CCC;
}
.ii-graph-legend{
     width:300px;
}

.ii-graph-legend-actions-list{
   margin-top:30px;

}
.ii-graph-legend-action i{
   font-size:30px; 
   padding-left:20px;
}

.container-graph-full-screen{
   position:fixed;
   left:0px;
   width:100%;
   height:100%;
   background:#F8F9FA;
   z-index:50;
}

.legend-graph-full-screen{
    //position:fixed;
    //bottom:0px;
   margin:10px;
}

.graph-full-screen{
     height:100%;
}



</style>

</head>
<body>


	<script type="text/javascript">
 var smwQueryPrefixes = window.smwQueryPrefixes = [];
 
    $(document).ready(function() {
        var config={};
        config.divId="mynetwork"
        config.divStyle="width:100%;height:530px;"
        config.endpoint= "http://dbpedia.org/sparql"
        config.sparql = $("#"+config.divId).attr("sparql-query")
        config.sparqlWithPrefixes=spqlib.util.addPrefixes(config.sparql,window.smwQueryPrefixes);
        config.nodeConfiguration=[{ category:"programming language",nodeColor:"#FFF000"}]
        config.edgeConfiguration={}
        config.rootElement="";
        config.rootElementColor=""
        config.rootElementImage="https://ubiss-test.imolinfo.it/eap/images/0/09/Target.png"
        config.showLegend="true";
        config.defaultNodeColor="#CCC";
        config.defaultEdgeColor="#CCC";
        config.minZoom=0.2
        config.maxZoom=1.2
        config.linkBasePath="https://ubiss-test.imolinfo.it/eap/index.php/";
        config.layout="dagre";
        config.maxLabelLength=30;
        config.spinnerImagePath=config.linkBasePath+"../resources/src/jquery/images/spinner-large.gif";
        config.layoutOptions = "{rankSep:150}";
		config.nodeStyle = {shape:'roundrectangle', width:120, height:80,'text-valign': 'center','text-halign': 'center','border-color' : '#000','border-width' : 1};
		config.edgeStyle = {'target-arrow-shape':''};

        spqlib.sparql2Graph(config);
        

    });

   
    
</script>
	<!-- <div id="mynetwork-container" class="cytoscape-graph-container">
		<div id="mynetwork-legend-container"
			class="cytoscape-legend-container">
			<div class="cytoscape-legend" id="mynetwork-legend"></div>
			<div class="cytoscape-actions-list">
				<div class="cytoscape-action">
					<a href="#" onclick="javascript:toggleFullScreen('mynetwork');"><i
						class="glyphicon glyphicon-fullscreen"></i>
					<spac class="fullscreen-label" style="padding-left:10px;">Go
						fullscreen</span></a>
				</div>
		</div> -->
		<!--legend container-->
		<div id="mynetwork" class="cytoscape-graph"
			style="width: 100%; height: 530px;"
			sparql-query="PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX dbpedia-owl: <http://dbpedia.org/ontology/>
PREFIX dbpprop: <http://dbpedia.org/property/>
PREFIX dbpedia: <http://dbpedia.org/resource/>

SELECT DISTINCT ?parent_uri ?child_uri ?parent_name ?child_name ?lang1value ?lang2value ?parent_type ?child_type ?relation_name
WHERE {
  ?parent_uri rdf:type dbpedia-owl:ProgrammingLanguage ;
         rdfs:label ?lang1name ;
         dbpprop:year ?lang1year .
  ?child_uri rdf:type dbpedia-owl:ProgrammingLanguage ;
         rdfs:label ?lang2name ;
         dbpprop:year ?lang2year .
         dbpedia-owl:ProgrammingLanguage rdfs:label ?parent_type.
         dbpedia-owl:ProgrammingLanguage rdfs:label ?child_type.
  ?parent_uri dbpedia-owl:influenced ?child_uri .
dbpedia-owl:influenced rdfs:label ?relation_name.
  FILTER (?parent_uri != ?child_uri)
  FILTER (LANG(?child_type) = 'en')
  FILTER (LANG(?parent_type) = 'en')
  FILTER (LANG(?relation_name) = 'en')
  FILTER (LANG(?lang1name) = 'en')
  FILTER (LANG(?lang2name) = 'en')
  BIND (replace(?lang1name, ' .programming language.', '') AS ?parent_name)
  BIND (replace(?lang2name, ' .programming language.', '') AS ?child_name)
  FILTER (?lang1year > 1950 AND ?lang1year < 2020)
  FILTER (?lang2year > 1950 AND ?lang2year < 2020)
  # To render older language larger than newer
}
      "></div>


</body>
</html>